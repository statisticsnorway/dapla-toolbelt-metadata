openapi: 3.0.1
info:
  title: Variable Definitions
  description: "## Introduction\n\nVariable Definitions are centralized definitions\
    \ of concrete variables which are typically present in multiple datasets. Variable\
    \ Definitions support standardization of data and metadata and facilitate sharing\
    \ and joining of data by clarifying when variables have an identical definition.\n\
    \n## Maintenance of Variable Definitions\nThis API allows for creation, maintenance\
    \ and access of Variable Definitions.\n\n### Ownership\nCreation and maintenance\
    \ of variables may only be performed by Statistics Norway employees representing\
    \ a specific Dapla team, who are defined as the owners of a given Variable Definition.\
    \ The team an owner represents must be specified when making a request through\
    \ the `active_group` query parameter. All maintenance is to be performed by the\
    \ owners, with no intervention from administrators.\n\n### Status\nAll Variable\
    \ Definitions have an associated status. The possible values for status are `DRAFT`,\
    \ `PUBLISHED_INTERNAL` and `PUBLISHED_EXTERNAL`.\n \n#### Draft\nWhen a Variable\
    \ Definition is created it is assigned the status `DRAFT`. Under this status the\
    \ Variable Definition is:\n\n- Only visible to Statistics Norway employees.\n\
    - Mutable (it may be changed directly without need for versioning).\n- Not suitable\
    \ to refer to from other systems.\n\nThis status may be changed to `PUBLISHED_INTERNAL`\
    \ or `PUBLISHED_EXTERNAL` with a direct update.\n\n#### Published Internal\nUnder\
    \ this status the Variable Definition is:\n\n- Only visible to Statistics Norway\
    \ employees.\n- Immutable (all changes are versioned).\n- Suitable to refer to\
    \ in internal systems for statistics production.\n- Not suitable to refer to for\
    \ external use (for example in Statistikkbanken).\n\nThis status may be changed\
    \ to `PUBLISHED_EXTERNAL` by creating a Patch version.\n\n#### Published External\n\
    Under this status the Variable Definition is:\n\n- Visible to the general public.\n\
    - Immutable (all changes are versioned).\n- Suitable to refer to from any system.\n\
    \nThis status may not be changed as it would break immutability. If a Variable\
    \ Definition is no longer relevant then its period of validity should be ended\
    \ by specifying a `valid_until` date in a Patch version.\n\n### Immutability\n\
    Variable Definitions are immutable. This means that any changes must be performed\
    \ in a strict versioning system. Consumers can avoid being exposed to breaking\
    \ changes by specifying a `date_of_validity` when they request a Variable Definition.\n\
    \n#### Patches\nPatches are for changes which do not affect the fundamental meaning\
    \ of the Variable Definition.\n\n#### Validity Periods\nValidity Periods are versions\
    \ with a period defined by a `valid_from` date and optionally a `valid_until`\
    \ date. If the fundamental meaning of a Variable Definition is to be changed,\
    \ it should be done by creating a new Validity Period.\n\n"
  contact:
    name: Team Metadata
    email: metadata@ssb.no
  license:
    name: CC BY 4.0
    url: https://creativecommons.org/licenses/by/4.0/deed.no
  version: "0.1"
servers:
- url: https://metadata.intern.test.ssb.no
  description: Internal test server
tags:
- name: Public
  description: Operations which are available to the general public without authentication.
- name: Validity Periods
  description: Create and access Validity Periods.
- name: Patches
  description: Create and access Patches.
- name: Data Migration
  description: Create variable definitions from existing definitions in Vardok.
  externalDocs:
    description: Vardok website
    url: https://www.ssb.no/a/metadata/definisjoner/variabler/main.html
- name: Draft Variable Definitions
  description: "Create, update and delete variable definitions with DRAFT status."
paths:
  /public/variable-definitions:
    get:
      tags:
      - Public
      - Variable Definitions
      summary: List all variable definitions.
      description: "List all variable definitions. These are rendered in the given\
        \ language, with the default being Norwegian Bokmål."
      operationId: listPublicVariableDefinitions
      parameters:
      - name: Accept-Language
        in: header
        description: Render the variable definition in the given language.
        required: true
        schema:
          $ref: "#/components/schemas/SupportedLanguages"
        example: nb
      - name: date_of_validity
        in: query
        description: List only variable definitions which are valid on this date.
        schema:
          type: string
          format: date
          nullable: true
        examples:
          Specific date:
            value: 1970-01-01
      responses:
        "200":
          description: OK response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RenderedVariableDefinition"
              examples:
                Specific date:
                  value: |-
                    [
                        {
                        "id": "wypvb3wd",
                        "name": "Landbakgrunn",
                        "short_name": "string",
                        "definition": "For personer født i utlandet, er dette (med noen få unntak) eget fødeland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen mormor, morfar, farmor eller farfar.",
                        "classification_uri": "https://www.ssb.no/en/klass/klassifikasjoner/91",
                        "unit_types": [{
                                "reference_uri": "https://www.ssb.no/klass/klassifikasjoner/702",
                                "code": "20",
                                "title": "Person"
                            }
                        ],
                        "subject_fields": [
                        {
                                "reference_uri": "https://www.ssb.no/klass/klassifikasjoner/618",
                                "code": "be07",
                                "title": "Innvandrere"
                            }
                        ],
                        "contains_special_categories_of_personal_data": true,
                        "measurement_type": null,
                        "valid_from": "2003-01-01",
                        "valid_until": null,
                        "external_reference_uri": "https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb",
                        "comment": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                        "related_variable_definition_uris": [
                            "https://example.com/"
                        ],
                        "contact": {
                            "title": "Seksjon for befolkningsstatistikk",
                            "email": "s320@ssb.no"
                        },
                        "last_updated_at": "2024-06-12T10:39:41.038Z"
                    }
                    ]
                Date not specified:
                  value: "[]"
  /public/variable-definitions/{variable-definition-id}:
    get:
      tags:
      - Public
      - Variable Definitions
      summary: Get one variable definition.
      description: "Get one variable definition. This is rendered in the given language,\
        \ with the default being Norwegian Bokmål."
      operationId: getPublicVariableDefinitionById
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Date not specified:
            value: wypvb3wd
          Specific date:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: Accept-Language
        in: header
        description: Render the variable definition in the given language.
        required: true
        schema:
          $ref: "#/components/schemas/SupportedLanguages"
        examples:
          Date not specified:
            value: nb
          Specific date:
            value: nb
      - name: date_of_validity
        in: query
        description: List only variable definitions which are valid on this date.
        schema:
          type: string
          format: date
          nullable: true
        examples:
          Specific date:
            value: 1970-01-01
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RenderedVariableDefinition"
              examples:
                Date not specified:
                  value:
                    id: wypvb3wd
                    name: Landbakgrunn
                    short_name: string
                    definition: "For personer født i utlandet, er dette (med noen\
                      \ få unntak) eget fødeland. For personer født i Norge er det\
                      \ foreldrenes fødeland. I de tilfeller der foreldrene har ulikt\
                      \ fødeland, er det morens fødeland som blir valgt. Hvis ikke\
                      \ personen selv eller noen av foreldrene er utenlandsfødt, hentes\
                      \ landbakgrunn fra de første utenlandsfødte en treffer på i\
                      \ rekkefølgen mormor, morfar, farmor eller farfar."
                    classification_uri: https://www.ssb.no/en/klass/klassifikasjoner/91
                    unit_types:
                    - reference_uri: https://www.ssb.no/klass/klassifikasjoner/702
                      code: "20"
                      title: Person
                    subject_fields:
                    - reference_uri: https://www.ssb.no/klass/klassifikasjoner/618
                      code: be07
                      title: Innvandrere
                    contains_special_categories_of_personal_data: true
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment: Fra og med 1.1.2003 ble definisjon endret til også å
                      trekke inn besteforeldrenes fødeland.
                    related_variable_definition_uris:
                    - https://example.com/
                    contact:
                      title: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    last_updated_at: 2024-06-12T10:39:41.038Z
                Specific date:
                  value:
                    id: wypvb3wd
                    name: Landbakgrunn
                    short_name: string
                    definition: "For personer født i utlandet, er dette (med noen\
                      \ få unntak) eget fødeland. For personer født i Norge er det\
                      \ foreldrenes fødeland. I de tilfeller der foreldrene har ulikt\
                      \ fødeland, er det morens fødeland som blir valgt. Hvis ikke\
                      \ personen selv eller noen av foreldrene er utenlandsfødt, hentes\
                      \ landbakgrunn fra de første utenlandsfødte en treffer på i\
                      \ rekkefølgen mormor, morfar, farmor eller farfar."
                    classification_uri: https://www.ssb.no/en/klass/klassifikasjoner/91
                    unit_types:
                    - reference_uri: https://www.ssb.no/klass/klassifikasjoner/702
                      code: "20"
                      title: Person
                    subject_fields:
                    - reference_uri: https://www.ssb.no/klass/klassifikasjoner/618
                      code: be07
                      title: Innvandrere
                    contains_special_categories_of_personal_data: true
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment: Fra og med 1.1.2003 ble definisjon endret til også å
                      trekke inn besteforeldrenes fødeland.
                    related_variable_definition_uris:
                    - https://example.com/
                    contact:
                      title: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    last_updated_at: 2024-06-12T10:39:41.038Z
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
  /public/variable-definitions/{variable-definition-id}/validity-periods:
    get:
      tags:
      - Public
      - Validity Periods
      summary: List all validity periods.
      description: "List all validity periods. These are rendered in the given language,\
        \ with the default being Norwegian Bokmål."
      operationId: listPublicValidityPeriods
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Validity periods:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: Accept-Language
        in: header
        description: Render the variable definition in the given language.
        required: true
        schema:
          $ref: "#/components/schemas/SupportedLanguages"
        examples:
          Validity periods:
            value: nb
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RenderedVariableDefinition"
              examples:
                Validity periods:
                  value: |-
                    [
                        {
                        "id": "wypvb3wd",
                        "name": "Landbakgrunn",
                        "short_name": "string",
                        "definition": "For personer født i utlandet, er dette (med noen få unntak) eget fødeland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen mormor, morfar, farmor eller farfar.",
                        "classification_uri": "https://www.ssb.no/en/klass/klassifikasjoner/91",
                        "unit_types": [{
                                "reference_uri": "https://www.ssb.no/klass/klassifikasjoner/702",
                                "code": "20",
                                "title": "Person"
                            }
                        ],
                        "subject_fields": [
                        {
                                "reference_uri": "https://www.ssb.no/klass/klassifikasjoner/618",
                                "code": "be07",
                                "title": "Innvandrere"
                            }
                        ],
                        "contains_special_categories_of_personal_data": true,
                        "measurement_type": null,
                        "valid_from": "2003-01-01",
                        "valid_until": null,
                        "external_reference_uri": "https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb",
                        "comment": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                        "related_variable_definition_uris": [
                            "https://example.com/"
                        ],
                        "contact": {
                            "title": "Seksjon for befolkningsstatistikk",
                            "email": "s320@ssb.no"
                        },
                        "last_updated_at": "2024-06-12T10:39:41.038Z"
                    }
                    ]
  /vardok-migration/{vardok-id}:
    post:
      tags:
      - Data Migration
      summary: Create a variable definition from a VarDok variable definition.
      description: Create a variable definition from a VarDok variable definition.
      operationId: createVariableDefinitionFromVarDok
      parameters:
      - name: vardok-id
        in: path
        description: The ID of the definition in Vardok.
        required: true
        schema:
          type: string
        examples:
          Migrate Vardok:
            value: "1607"
      - name: active_group
        in: query
        description: The group which the user currently represents.
        required: true
        schema:
          type: string
        examples:
          Migrate Vardok:
            value: dapla-felles-developers
      responses:
        "201":
          description: Successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Migrate Vardok:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "400":
          description: Bad request.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Bad request:
                  value:
                    type: about:blank
                    status: 400
                    detail: "Failed to convert argument [example] for value [null]\
                      \ due to: Error deserializing type: example"
                Constraint violation:
                  value:
                    suppressed: []
                    parameters: {}
                    type: https://zalando.github.io/problem/constraint-violation
                    title: Constraint Violation
                    status: 400
                    violations:
                    - field: classificationReference
                      message: Code incorrect is not a valid classification id
      security:
      - keycloak_token: []
  /variable-definitions:
    get:
      tags:
      - Variable Definitions
      summary: List all variable definitions.
      description: List all variable definitions.
      operationId: listVariableDefinitions
      parameters:
      - name: date_of_validity
        in: query
        description: List only variable definitions which are valid on this date.
        schema:
          type: string
          format: date
          nullable: true
        examples:
          Specific date:
            value: 1970-01-01
      responses:
        "200":
          description: OK response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CompleteResponse"
              examples:
                Specific date:
                  value: |-
                    [
                        {
                        "id": "wypvb3wd",
                        "patch_id": 1,
                        "name": {
                            "en": "Country Background",
                            "nb": "Landbakgrunn",
                            "nn": "Landbakgrunn"
                        },
                        "short_name": "landbak",
                        "definition": {
                            "en": "Country background is the person's own, the mother's or possibly the father's country of birth. Persons without an immigrant background always have Norway as country background. In cases where the parents have different countries of birth the mother's country of birth is chosen. If neither the person nor the parents are born abroad, country background is chosen from the first person born abroad in the order mother's mother, mother's father, father's mother, father's father.",
                            "nb": "For personer født i utlandet, er dette (med noen få unntak) eget fødeland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen mormor, morfar, farmor eller farfar.",
                            "nn": "For personar fødd i utlandet, er dette (med nokre få unntak) eige fødeland. For personar fødd i Noreg er det fødelandet til foreldra. I dei tilfella der foreldra har ulikt fødeland, er det fødelandet til mora som blir valt. Viss ikkje personen sjølv eller nokon av foreldra er utenlandsfødt, blir henta landsbakgrunn frå dei første utenlandsfødte ein treffar på i rekkjefølgja mormor, morfar, farmor eller farfar."
                        },
                        "classification_reference": "91",
                        "unit_types": ["01", "02"],
                        "subject_fields": ["he04"],
                        "contains_special_categories_of_personal_data": true,
                        "variable_status": "DRAFT",
                        "measurement_type": null,
                        "valid_from": "2003-01-01",
                        "valid_until": null,
                        "external_reference_uri": "https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb",
                        "comment": {
                            "nb": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                            "nn": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                            "en": "As of 1 January 2003, the definition was changed to also include the grandparents' country of birth."
                        },
                        "related_variable_definition_uris": [
                            "https://example.com/"
                        ],
                        "owner": {
                            "team": "team-a",
                            "groups": ["team-a-developers"]
                        },
                        "contact": {
                            "title": {
                                "en": "Division for population statistics",
                                "nb": "Seksjon for befolkningsstatistikk",
                                "nn": "Seksjon for befolkningsstatistikk"
                            },
                            "email": "s320@ssb.no"
                        },
                        "created_at": "2024-06-11T08:15:19.038Z",
                        "created_by": "ano@ssb.no",
                        "last_updated_at": "2024-06-11T08:15:19.038Z",
                        "last_updated_by": "ano@ssb.no"
                    }

                    ]
                Date not specified:
                  value: "[]"
      security:
      - keycloak_token: []
    post:
      tags:
      - Draft Variable Definitions
      summary: Create a variable definition.
      description: Create a variable definition. New variable definitions are automatically
        assigned status DRAFT and must include all required fields. Attempts to specify
        id or variable_status in a request will receive 400 BAD REQUEST responses.
      operationId: createVariableDefinition
      parameters:
      - name: active_group
        in: query
        description: The group which the user currently represents.
        required: true
        schema:
          type: string
        examples:
          Create draft:
            value: dapla-felles-developers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Draft"
            examples:
              Create draft:
                value:
                  name:
                    en: Country Background
                    nb: Landbakgrunn
                    nn: Landbakgrunn
                  short_name: landbak
                  definition:
                    en: "Country background is the person's own, the mother's or possibly\
                      \ the father's country of birth. Persons without an immigrant\
                      \ background always have Norway as country background. In cases\
                      \ where the parents have different countries of birth the mother's\
                      \ country of birth is chosen. If neither the person nor the\
                      \ parents are born abroad, country background is chosen from\
                      \ the first person born abroad in the order mother's mother,\
                      \ mother's father, father's mother, father's father."
                    nb: "For personer født i utlandet, er dette (med noen få unntak)\
                      \ eget fødeland. For personer født i Norge er det foreldrenes\
                      \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                      \ er det morens fødeland som blir valgt. Hvis ikke personen\
                      \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                      \ fra de første utenlandsfødte en treffer på i rekkefølgen mormor,\
                      \ morfar, farmor eller farfar."
                    nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                      \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                      \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                      \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                      \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                      \ landsbakgrunn frå dei første utenlandsfødte ein treffar på\
                      \ i rekkjefølgja mormor, morfar, farmor eller farfar."
                  classification_reference: "91"
                  unit_types:
                  - "01"
                  - "02"
                  subject_fields:
                  - he04
                  contains_special_categories_of_personal_data: true
                  valid_from: 2003-01-01
                  external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                  comment:
                    nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                      inn besteforeldrenes fødeland.
                    nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                      inn besteforeldrenes fødeland.
                    en: "As of 1 January 2003, the definition was changed to also\
                      \ include the grandparents' country of birth."
                  related_variable_definition_uris:
                  - https://example.com/
                  contact:
                    title:
                      en: Division for population statistics
                      nb: Seksjon for befolkningsstatistikk
                      nn: Seksjon for befolkningsstatistikk
                    email: s320@ssb.no
        required: true
      responses:
        "201":
          description: Successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Create draft:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "400":
          description: Bad request.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Bad request:
                  value:
                    type: about:blank
                    status: 400
                    detail: "Failed to convert argument [example] for value [null]\
                      \ due to: Error deserializing type: example"
                Constraint violation:
                  value:
                    suppressed: []
                    parameters: {}
                    type: https://zalando.github.io/problem/constraint-violation
                    title: Constraint Violation
                    status: 400
                    violations:
                    - field: classificationReference
                      message: Code incorrect is not a valid classification id
        "409":
          description: Short name is already in use by another variable definition.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Conflict:
                  value:
                    type: about:blank
                    status: 409
                    detail: Short name is already in use by another variable definition.
      security:
      - keycloak_token: []
  /variable-definitions/{variable-definition-id}:
    get:
      tags:
      - Variable Definitions
      summary: Get one variable definition.
      description: Get one variable definition.
      operationId: getVariableDefinitionById
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Date not specified:
            value: wypvb3wd
          Specific date:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: date_of_validity
        in: query
        description: List only variable definitions which are valid on this date.
        schema:
          type: string
          format: date
          nullable: true
        examples:
          Specific date:
            value: 1970-01-01
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Date not specified:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
                Specific date:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
      security:
      - keycloak_token: []
    delete:
      tags:
      - Draft Variable Definitions
      summary: Delete a variable definition.
      description: Delete a variable definition.
      operationId: deleteVariableDefinitionById
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Delete:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: active_group
        in: query
        description: The group which the user currently represents.
        required: true
        schema:
          type: string
        examples:
          Delete:
            value: dapla-felles-developers
      responses:
        "204":
          description: Successfully deleted
          content:
            application/json:
              examples:
                Delete:
                  value: ""
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
        "405":
          description: Not allowed for variable definitions with this status.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Method not allowed:
                  value:
                    type: about:blank
                    status: 405
                    detail: Not allowed for variable definitions with this status.
      security:
      - keycloak_token: []
    patch:
      tags:
      - Draft Variable Definitions
      summary: Update a variable definition.
      description: Update a variable definition. Only the fields which need updating
        should be supplied.
      operationId: updateVariableDefinitionById
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Update:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: active_group
        in: query
        description: The group which the user currently represents.
        required: true
        schema:
          type: string
        examples:
          Update:
            value: dapla-felles-developers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateDraft"
            examples:
              Update:
                value:
                  classification_reference: 702
              Constraint violation:
                value:
                  classification_reference: incorrect
        required: true
      responses:
        "200":
          description: Successfully updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Update:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "400":
          description: Bad request.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Bad request:
                  value:
                    type: about:blank
                    status: 400
                    detail: "Failed to convert argument [example] for value [null]\
                      \ due to: Error deserializing type: example"
                Constraint violation:
                  value:
                    suppressed: []
                    parameters: {}
                    type: https://zalando.github.io/problem/constraint-violation
                    title: Constraint Violation
                    status: 400
                    violations:
                    - field: classificationReference
                      message: Code incorrect is not a valid classification id
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
        "405":
          description: Not allowed for variable definitions with this status.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Method not allowed:
                  value:
                    type: about:blank
                    status: 405
                    detail: Not allowed for variable definitions with this status.
        "409":
          description: Short name is already in use by another variable definition.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Conflict:
                  value:
                    type: about:blank
                    status: 409
                    detail: Short name is already in use by another variable definition.
      security:
      - keycloak_token: []
  /variable-definitions/{variable-definition-id}/patches:
    get:
      tags:
      - Patches
      summary: List all patches for the given variable definition.
      description: List all patches for the given variable definition. The full object
        is returned for comparison purposes.
      operationId: listPatches
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Patches:
            value: wypvb3wd
          Not found:
            value: invalid id
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CompleteResponse"
              examples:
                Patches:
                  value: |-
                    [
                        {
                        "id": "wypvb3wd",
                        "patch_id": 1,
                        "name": {
                            "en": "Country Background",
                            "nb": "Landbakgrunn",
                            "nn": "Landbakgrunn"
                        },
                        "short_name": "landbak",
                        "definition": {
                            "en": "Country background is the person's own, the mother's or possibly the father's country of birth. Persons without an immigrant background always have Norway as country background. In cases where the parents have different countries of birth the mother's country of birth is chosen. If neither the person nor the parents are born abroad, country background is chosen from the first person born abroad in the order mother's mother, mother's father, father's mother, father's father.",
                            "nb": "For personer født i utlandet, er dette (med noen få unntak) eget fødeland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen mormor, morfar, farmor eller farfar.",
                            "nn": "For personar fødd i utlandet, er dette (med nokre få unntak) eige fødeland. For personar fødd i Noreg er det fødelandet til foreldra. I dei tilfella der foreldra har ulikt fødeland, er det fødelandet til mora som blir valt. Viss ikkje personen sjølv eller nokon av foreldra er utenlandsfødt, blir henta landsbakgrunn frå dei første utenlandsfødte ein treffar på i rekkjefølgja mormor, morfar, farmor eller farfar."
                        },
                        "classification_reference": "91",
                        "unit_types": ["01", "02"],
                        "subject_fields": ["he04"],
                        "contains_special_categories_of_personal_data": true,
                        "variable_status": "DRAFT",
                        "measurement_type": null,
                        "valid_from": "2003-01-01",
                        "valid_until": null,
                        "external_reference_uri": "https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb",
                        "comment": {
                            "nb": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                            "nn": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                            "en": "As of 1 January 2003, the definition was changed to also include the grandparents' country of birth."
                        },
                        "related_variable_definition_uris": [
                            "https://example.com/"
                        ],
                        "owner": {
                            "team": "team-a",
                            "groups": ["team-a-developers"]
                        },
                        "contact": {
                            "title": {
                                "en": "Division for population statistics",
                                "nb": "Seksjon for befolkningsstatistikk",
                                "nn": "Seksjon for befolkningsstatistikk"
                            },
                            "email": "s320@ssb.no"
                        },
                        "created_at": "2024-06-11T08:15:19.038Z",
                        "created_by": "ano@ssb.no",
                        "last_updated_at": "2024-06-11T08:15:19.038Z",
                        "last_updated_by": "ano@ssb.no"
                    }

                    ]
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
      security:
      - keycloak_token: []
    post:
      tags:
      - Patches
      summary: Create a new patch for a variable definition.
      description: Create a new patch for a variable definition.
      operationId: createPatch
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Create patch:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: valid_from
        in: query
        description: Valid from date for the specific validity period to be patched.
        schema:
          type: string
          format: date
          nullable: true
        examples:
          Create patch:
            value: 1970-01-01
      - name: active_group
        in: query
        description: The group which the user currently represents.
        required: true
        schema:
          type: string
        examples:
          Create patch:
            value: dapla-felles-developers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Patch"
            examples:
              Create patch:
                value:
                  name:
                    en: Country Background
                    nb: Landbakgrunnen
                    nn: Landbakgrunnen
                  definition:
                    en: "Country background is the person's own, the mother's or possibly\
                      \ the father's country of birth. Persons without an immigrant\
                      \ background always have Norway as country background. In cases\
                      \ where the parents have different countries of birth the mother's\
                      \ country of birth is chosen. If neither the person nor the\
                      \ parents are born abroad, country background is chosen from\
                      \ the first person born abroad in the order mother's mother,\
                      \ mother's father, father's mother, father's father."
                    nb: "For personer født i utlandet, er dette (med noen få unntak)\
                      \ eget fødeland. For personer født i Norge er det foreldrenes\
                      \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                      \ er det morens fødeland som blir valgt. Hvis ikke personen\
                      \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                      \ fra de første utenlandsfødte en treffer på i rekkefølgen mormor,\
                      \ morfar, farmor eller farfar."
                    nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                      \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                      \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                      \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                      \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                      \ landsbakgrunn frå dei første utenlandsfødte ein treffar på\
                      \ i rekkjefølgja mormor, morfar, farmor eller farfar."
                  classification_reference: "91"
                  unit_types:
                  - "01"
                  - "05"
                  subject_fields:
                  - he04
                  contains_special_categories_of_personal_data: false
                  valid_until: 2026-01-01
                  external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                  comment:
                    en: Changes in unit types
                    nb: Endring i enhetstyper.
                    nn: Endring i enhetstyper.
                  related_variable_definition_uris:
                  - https://example.com/
                  contact:
                    title:
                      en: Division for population statistics
                      nb: Seksjon for befolkningsstatistikk
                      nn: Seksjon for befolkningsstatistikk
                    email: s320@ssb.no
        required: true
      responses:
        "201":
          description: Successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Create patch:
                  value:
                    id: wypvb3wd
                    patch_id: 2
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: PUBLISHED_INTERNAL
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
        "400":
          description: Bad request.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Bad request:
                  value:
                    type: about:blank
                    status: 400
                    detail: "Failed to convert argument [example] for value [null]\
                      \ due to: Error deserializing type: example"
                Constraint violation:
                  value:
                    suppressed: []
                    parameters: {}
                    type: https://zalando.github.io/problem/constraint-violation
                    title: Constraint Violation
                    status: 400
                    violations:
                    - field: classificationReference
                      message: Code incorrect is not a valid classification id
        "405":
          description: Not allowed for variable definitions with this status.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Method not allowed:
                  value:
                    type: about:blank
                    status: 405
                    detail: Not allowed for variable definitions with this status.
      security:
      - keycloak_token: []
  /variable-definitions/{variable-definition-id}/patches/{patch-id}:
    get:
      tags:
      - Patches
      summary: Get one concrete patch for the given variable definition.
      description: Get one concrete patch for the given variable definition. The full
        object is returned for comparison purposes.
      operationId: getPatch
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Patch:
            value: wypvb3wd
          Not found:
            value: wypvb3wd
      - name: patch-id
        in: path
        description: ID of the patch to retrieve
        required: true
        schema:
          type: integer
          format: int32
        examples:
          Patch:
            value: "1"
          Not found:
            value: "244"
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Patch:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
      security:
      - keycloak_token: []
  /variable-definitions/{variable-definition-id}/validity-periods:
    get:
      tags:
      - Validity Periods
      summary: List all validity periods.
      description: List all validity periods.
      operationId: listValidityPeriods
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Validity periods:
            value: wypvb3wd
          Not found:
            value: invalid id
      responses:
        "200":
          description: Ok
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CompleteResponse"
              examples:
                Validity periods:
                  value: |-
                    [
                        {
                        "id": "wypvb3wd",
                        "patch_id": 1,
                        "name": {
                            "en": "Country Background",
                            "nb": "Landbakgrunn",
                            "nn": "Landbakgrunn"
                        },
                        "short_name": "landbak",
                        "definition": {
                            "en": "Country background is the person's own, the mother's or possibly the father's country of birth. Persons without an immigrant background always have Norway as country background. In cases where the parents have different countries of birth the mother's country of birth is chosen. If neither the person nor the parents are born abroad, country background is chosen from the first person born abroad in the order mother's mother, mother's father, father's mother, father's father.",
                            "nb": "For personer født i utlandet, er dette (med noen få unntak) eget fødeland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen mormor, morfar, farmor eller farfar.",
                            "nn": "For personar fødd i utlandet, er dette (med nokre få unntak) eige fødeland. For personar fødd i Noreg er det fødelandet til foreldra. I dei tilfella der foreldra har ulikt fødeland, er det fødelandet til mora som blir valt. Viss ikkje personen sjølv eller nokon av foreldra er utenlandsfødt, blir henta landsbakgrunn frå dei første utenlandsfødte ein treffar på i rekkjefølgja mormor, morfar, farmor eller farfar."
                        },
                        "classification_reference": "91",
                        "unit_types": ["01", "02"],
                        "subject_fields": ["he04"],
                        "contains_special_categories_of_personal_data": true,
                        "variable_status": "DRAFT",
                        "measurement_type": null,
                        "valid_from": "2003-01-01",
                        "valid_until": null,
                        "external_reference_uri": "https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb",
                        "comment": {
                            "nb": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                            "nn": "Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes fødeland.",
                            "en": "As of 1 January 2003, the definition was changed to also include the grandparents' country of birth."
                        },
                        "related_variable_definition_uris": [
                            "https://example.com/"
                        ],
                        "owner": {
                            "team": "team-a",
                            "groups": ["team-a-developers"]
                        },
                        "contact": {
                            "title": {
                                "en": "Division for population statistics",
                                "nb": "Seksjon for befolkningsstatistikk",
                                "nn": "Seksjon for befolkningsstatistikk"
                            },
                            "email": "s320@ssb.no"
                        },
                        "created_at": "2024-06-11T08:15:19.038Z",
                        "created_by": "ano@ssb.no",
                        "last_updated_at": "2024-06-11T08:15:19.038Z",
                        "last_updated_by": "ano@ssb.no"
                    }

                    ]
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
      security:
      - keycloak_token: []
    post:
      tags:
      - Validity Periods
      summary: Create a new validity period for a variable definition.
      description: Create a new validity period for a variable definition.
      operationId: createValidityPeriod
      parameters:
      - name: variable-definition-id
        in: path
        description: Unique identifier for the variable definition.
        required: true
        schema:
          type: string
        examples:
          Create validity period:
            value: wypvb3wd
          Not found:
            value: invalid id
      - name: active_group
        in: query
        description: The group which the user currently represents.
        required: true
        schema:
          type: string
        examples:
          Create validity period:
            value: dapla-felles-developers
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ValidityPeriod"
            examples:
              Create validity period:
                value:
                  name:
                    en: Country Background
                    nb: Landbakgrunnen
                    nn: Landbakgrunnen
                  definition:
                    en: Country background is the mothers birth country.
                    nb: For personer født i utlandet er dette mors fødeland.
                    nn: For personar fødd i utlandet mors fødeland.
                  classification_reference: "91"
                  unit_types:
                  - "01"
                  - "05"
                  subject_fields:
                  - he04
                  contains_special_categories_of_personal_data: false
                  valid_from: 2026-01-02
                  external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                  comment:
                    en: Change in legislation triggers change of definition text.
                    nb: Endring i lovgiving utløser endring av definisjonstekst.
                    nn: Endring i lovgiving utløser endring av definisjonstekst.
                  related_variable_definition_uris:
                  - https://example.com/
                  contact:
                    title:
                      en: Division for population statistics
                      nb: Seksjon for befolkningsstatistikk
                      nn: Seksjon for befolkningsstatistikk
                    email: s320@ssb.no
        required: true
      responses:
        "201":
          description: Successfully created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CompleteResponse"
              examples:
                Create validity period:
                  value:
                    id: wypvb3wd
                    patch_id: 1
                    name:
                      en: Country Background
                      nb: Landbakgrunn
                      nn: Landbakgrunn
                    short_name: landbak
                    definition:
                      en: "Country background is the person's own, the mother's or\
                        \ possibly the father's country of birth. Persons without\
                        \ an immigrant background always have Norway as country background.\
                        \ In cases where the parents have different countries of birth\
                        \ the mother's country of birth is chosen. If neither the\
                        \ person nor the parents are born abroad, country background\
                        \ is chosen from the first person born abroad in the order\
                        \ mother's mother, mother's father, father's mother, father's\
                        \ father."
                      nb: "For personer født i utlandet, er dette (med noen få unntak)\
                        \ eget fødeland. For personer født i Norge er det foreldrenes\
                        \ fødeland. I de tilfeller der foreldrene har ulikt fødeland,\
                        \ er det morens fødeland som blir valgt. Hvis ikke personen\
                        \ selv eller noen av foreldrene er utenlandsfødt, hentes landbakgrunn\
                        \ fra de første utenlandsfødte en treffer på i rekkefølgen\
                        \ mormor, morfar, farmor eller farfar."
                      nn: "For personar fødd i utlandet, er dette (med nokre få unntak)\
                        \ eige fødeland. For personar fødd i Noreg er det fødelandet\
                        \ til foreldra. I dei tilfella der foreldra har ulikt fødeland,\
                        \ er det fødelandet til mora som blir valt. Viss ikkje personen\
                        \ sjølv eller nokon av foreldra er utenlandsfødt, blir henta\
                        \ landsbakgrunn frå dei første utenlandsfødte ein treffar\
                        \ på i rekkjefølgja mormor, morfar, farmor eller farfar."
                    classification_reference: "91"
                    unit_types:
                    - "01"
                    - "02"
                    subject_fields:
                    - he04
                    contains_special_categories_of_personal_data: true
                    variable_status: DRAFT
                    valid_from: 2003-01-01
                    external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
                    comment:
                      nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke
                        inn besteforeldrenes fødeland.
                      en: "As of 1 January 2003, the definition was changed to also\
                        \ include the grandparents' country of birth."
                    related_variable_definition_uris:
                    - https://example.com/
                    owner:
                      team: team-a
                      groups:
                      - team-a-developers
                    contact:
                      title:
                        en: Division for population statistics
                        nb: Seksjon for befolkningsstatistikk
                        nn: Seksjon for befolkningsstatistikk
                      email: s320@ssb.no
                    created_at: 2024-06-11T08:15:19.038Z
                    created_by: ano@ssb.no
                    last_updated_at: 2024-06-11T08:15:19.038Z
                    last_updated_by: ano@ssb.no
        "404":
          description: Not found
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Not found:
                  value:
                    type: about:blank
                    status: 404
                    detail: Not found
                    parameters: {}
        "400":
          description: Bad request.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Bad request:
                  value:
                    type: about:blank
                    status: 400
                    detail: "Failed to convert argument [example] for value [null]\
                      \ due to: Error deserializing type: example"
                Constraint violation:
                  value:
                    suppressed: []
                    parameters: {}
                    type: https://zalando.github.io/problem/constraint-violation
                    title: Constraint Violation
                    status: 400
                    violations:
                    - field: classificationReference
                      message: Code incorrect is not a valid classification id
        "405":
          description: Not allowed for variable definitions with this status.
          content:
            application/problem+json:
              schema:
                $ref: https://opensource.zalando.com/restful-api-guidelines/models/problem-1.0.1.yaml#/Problem
              examples:
                Method not allowed:
                  value:
                    type: about:blank
                    status: 405
                    detail: Not allowed for variable definitions with this status.
      security:
      - keycloak_token: []
components:
  schemas:
    CompleteResponse:
      required:
      - contains_special_categories_of_personal_data
      - created_at
      - created_by
      - definition
      - id
      - last_updated_at
      - last_updated_by
      - name
      - owner
      - patch_id
      - short_name
      - subject_fields
      - unit_types
      - valid_from
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the variable definition.
          format: "^[a-zA-Z0-9-_]{8}$"
        patch_id:
          type: integer
          description: Integer identifying a patch of a variable definition.
          format: int32
          example: 1
        name:
          description: Name of the variable. Must be unique for a given Unit Type
            and Owner combination.
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        short_name:
          type: string
          description: Recommended short name. Must be unique within an organization.
        definition:
          description: Definition of the variable.
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        classification_reference:
          type: string
          description: ID of a classification or code list from Klass. The given classification
            defines all possible values for the defined variable.
          nullable: true
        unit_types:
          type: array
          description: "A list of one or more unit types, e.g. person, vehicle, household.\
            \ Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/702."
          items:
            type: string
        subject_fields:
          type: array
          description: A list of subject fields that the variable is used in. Must
            be defined as codes from https://www.ssb.no/klass/klassifikasjoner/618.
          items:
            type: string
        contains_special_categories_of_personal_data:
          type: boolean
          description: "True if variable instances contain particularly sensitive\
            \ information. Applies even if the information or identifiers are pseudonymized.\
            \ Information within the following categories are regarded as particularly\
            \ sensitive: Ethnicity, Political alignment, Religion, Philosophical beliefs,\
            \ Union membership, Genetics, Biometrics, Health, Sexual relations, Sexual\
            \ orientation"
        variable_status:
          description: Status of the life cycle of the variable
          nullable: true
          allOf:
          - $ref: "#/components/schemas/VariableStatus"
        measurement_type:
          type: string
          description: "Type of measurement for the variable, e.g. length, volume,\
            \ currency. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/303"
          nullable: true
        valid_from:
          type: string
          description: The variable definition is valid from this date inclusive
          format: date
        valid_until:
          type: string
          description: The variable definition is valid until this date inclusive
          format: date
          nullable: true
        external_reference_uri:
          type: string
          description: A link (URI) to an external definition/documentation
          format: url
          nullable: true
        comment:
          description: Optional comment to explain the definition or communicate potential
            changes.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        related_variable_definition_uris:
          type: array
          description: "Link(s) to related definitions of variables - a list of one\
            \ or more definitions. For example for a variable after-tax income it\
            \ could be relevant to link to definitions of income from work, property\
            \ income etc."
          nullable: true
          items:
            type: string
            format: url
        owner:
          description: "Owner of the definition, i.e. responsible Dapla team (statistics\
            \ team) and information about access management groups."
          allOf:
          - $ref: "#/components/schemas/Owner"
        contact:
          description: Contact details
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Contact"
        created_at:
          type: string
          description: The timestamp at which this variable definition was first created.
          format: date-time
        created_by:
          type: string
          description: The user who created this variable definition.
        last_updated_at:
          type: string
          description: The timestamp at which this variable definition was last modified.
          format: date-time
        last_updated_by:
          type: string
          description: The user who last modified this variable definition.
      description: Complete response For internal users who need all details while
        maintaining variable definitions.
    Contact:
      required:
      - email
      - title
      type: object
      properties:
        title:
          $ref: "#/components/schemas/LanguageStringType"
        email:
          type: string
          format: email
    Draft:
      required:
      - contains_special_categories_of_personal_data
      - definition
      - name
      - short_name
      - subject_fields
      - unit_types
      - valid_from
      type: object
      properties:
        name:
          description: Name of the variable. Must be unique for a given Unit Type
            and Owner combination.
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        short_name:
          pattern: "^[a-z0-9_]{2,}$"
          type: string
          description: Recommended short name. Must be unique within an organization.
        definition:
          description: Definition of the variable.
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        classification_reference:
          type: string
          description: ID of a classification or code list from Klass. The given classification
            defines all possible values for the defined variable.
          nullable: true
        unit_types:
          type: array
          description: "A list of one or more unit types, e.g. person, vehicle, household.\
            \ Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/702."
          items:
            type: string
        subject_fields:
          type: array
          description: A list of subject fields that the variable is used in. Must
            be defined as codes from https://www.ssb.no/klass/klassifikasjoner/618.
          items:
            type: string
        contains_special_categories_of_personal_data:
          type: boolean
          description: "True if variable instances contain particularly sensitive\
            \ information. Applies even if the information or identifiers are pseudonymized.\
            \ Information within the following categories are regarded as particularly\
            \ sensitive: Ethnicity, Political alignment, Religion, Philosophical beliefs,\
            \ Union membership, Genetics, Biometrics, Health, Sexual relations, Sexual\
            \ orientation"
          default: false
        measurement_type:
          type: string
          description: "Type of measurement for the variable, e.g. length, volume,\
            \ currency. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/303"
          nullable: true
        valid_from:
          type: string
          description: The variable definition is valid from this date inclusive
          format: date
        valid_until:
          type: string
          description: The variable definition is valid until this date inclusive
          format: date
          nullable: true
        external_reference_uri:
          type: string
          description: A link (URI) to an external definition/documentation
          format: url
          nullable: true
        comment:
          description: Optional comment to explain the definition or communicate potential
            changes.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        related_variable_definition_uris:
          type: array
          description: "Link(s) to related definitions of variables - a list of one\
            \ or more definitions. For example for a variable after-tax income it\
            \ could be relevant to link to definitions of income from work, property\
            \ income etc."
          nullable: true
          items:
            type: string
            format: url
        contact:
          description: Contact details
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Contact"
      description: Create a Draft Variable Definition
      example:
        name:
          en: Country Background
          nb: Landbakgrunn
          nn: Landbakgrunn
        short_name: landbak
        definition:
          en: "Country background is the person's own, the mother's or possibly the\
            \ father's country of birth. Persons without an immigrant background always\
            \ have Norway as country background. In cases where the parents have different\
            \ countries of birth the mother's country of birth is chosen. If neither\
            \ the person nor the parents are born abroad, country background is chosen\
            \ from the first person born abroad in the order mother's mother, mother's\
            \ father, father's mother, father's father."
          nb: "For personer født i utlandet, er dette (med noen få unntak) eget fø\
            deland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller\
            \ der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt.\
            \ Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes\
            \ landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen\
            \ mormor, morfar, farmor eller farfar."
          nn: "For personar fødd i utlandet, er dette (med nokre få unntak) eige fø\
            deland. For personar fødd i Noreg er det fødelandet til foreldra. I dei\
            \ tilfella der foreldra har ulikt fødeland, er det fødelandet til mora\
            \ som blir valt. Viss ikkje personen sjølv eller nokon av foreldra er\
            \ utenlandsfødt, blir henta landsbakgrunn frå dei første utenlandsfødte\
            \ ein treffar på i rekkjefølgja mormor, morfar, farmor eller farfar."
        classification_reference: "91"
        unit_types:
        - "01"
        - "02"
        subject_fields:
        - he04
        contains_special_categories_of_personal_data: true
        measurement_type: null
        valid_from: 2003-01-01
        external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
        comment:
          nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes
            fødeland.
          nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes
            fødeland.
          en: "As of 1 January 2003, the definition was changed to also include the\
            \ grandparents' country of birth."
        related_variable_definition_uris:
        - https://example.com/
        contact:
          title:
            en: Division for population statistics
            nb: Seksjon for befolkningsstatistikk
            nn: Seksjon for befolkningsstatistikk
          email: s320@ssb.no
    KlassReference:
      required:
      - reference_uri
      type: object
      properties:
        reference_uri:
          type: string
        code:
          type: string
          nullable: true
        title:
          type: string
          nullable: true
    LanguageStringType:
      type: object
      properties:
        nb:
          type: string
          nullable: true
        nn:
          type: string
          nullable: true
        en:
          type: string
          nullable: true
    Owner:
      required:
      - groups
      - team
      type: object
      properties:
        team:
          minLength: 1
          type: string
        groups:
          minItems: 1
          type: array
          items:
            minLength: 1
            type: string
      description: Owner
      example:
        team: play-obr-b
        groups:
        - play-obr-b-developers
    Patch:
      type: object
      properties:
        name:
          description: Name of the variable. Must be unique for a given Unit Type
            and Owner combination.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        definition:
          description: Definition of the variable.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        classification_reference:
          type: string
          description: ID of a classification or code list from Klass. The given classification
            defines all possible values for the defined variable.
          nullable: true
        unit_types:
          type: array
          description: "A list of one or more unit types, e.g. person, vehicle, household.\
            \ Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/702."
          nullable: true
          items:
            type: string
        subject_fields:
          type: array
          description: A list of subject fields that the variable is used in. Must
            be defined as codes from https://www.ssb.no/klass/klassifikasjoner/618.
          nullable: true
          items:
            type: string
        contains_special_categories_of_personal_data:
          type: boolean
          description: "True if variable instances contain particularly sensitive\
            \ information. Applies even if the information or identifiers are pseudonymized.\
            \ Information within the following categories are regarded as particularly\
            \ sensitive: Ethnicity, Political alignment, Religion, Philosophical beliefs,\
            \ Union membership, Genetics, Biometrics, Health, Sexual relations, Sexual\
            \ orientation"
          nullable: true
        variable_status:
          description: Status of the life cycle of the variable
          nullable: true
          readOnly: true
          allOf:
          - $ref: "#/components/schemas/VariableStatus"
        measurement_type:
          type: string
          description: "Type of measurement for the variable, e.g. length, volume,\
            \ currency. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/303"
          nullable: true
        valid_until:
          type: string
          description: The variable definition is valid until this date inclusive
          format: date
          nullable: true
        external_reference_uri:
          type: string
          description: A link (URI) to an external definition/documentation
          format: url
          nullable: true
        comment:
          description: Optional comment to explain the definition or communicate potential
            changes.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        related_variable_definition_uris:
          type: array
          description: "Link(s) to related definitions of variables - a list of one\
            \ or more definitions. For example for a variable after-tax income it\
            \ could be relevant to link to definitions of income from work, property\
            \ income etc."
          nullable: true
          items:
            type: string
            format: url
        owner:
          description: "Owner of the definition, i.e. responsible Dapla team (statistics\
            \ team) and information about access management groups."
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Owner"
        contact:
          description: Contact details
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Contact"
      description: Create a new Patch version on a Published Variable Definition.
      example:
        name:
          en: Country Background
          nb: Landbakgrunnen
          nn: Landbakgrunnen
        definition:
          en: "Country background is the person's own, the mother's or possibly the\
            \ father's country of birth. Persons without an immigrant background always\
            \ have Norway as country background. In cases where the parents have different\
            \ countries of birth the mother's country of birth is chosen. If neither\
            \ the person nor the parents are born abroad, country background is chosen\
            \ from the first person born abroad in the order mother's mother, mother's\
            \ father, father's mother, father's father."
          nb: "For personer født i utlandet, er dette (med noen få unntak) eget fø\
            deland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller\
            \ der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt.\
            \ Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes\
            \ landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen\
            \ mormor, morfar, farmor eller farfar."
          nn: "For personar fødd i utlandet, er dette (med nokre få unntak) eige fø\
            deland. For personar fødd i Noreg er det fødelandet til foreldra. I dei\
            \ tilfella der foreldra har ulikt fødeland, er det fødelandet til mora\
            \ som blir valt. Viss ikkje personen sjølv eller nokon av foreldra er\
            \ utenlandsfødt, blir henta landsbakgrunn frå dei første utenlandsfødte\
            \ ein treffar på i rekkjefølgja mormor, morfar, farmor eller farfar."
        classification_reference: "91"
        unit_types:
        - "01"
        - "05"
        subject_fields:
        - he04
        contains_special_categories_of_personal_data: false
        measurement_type: null
        valid_until: 2026-01-01
        external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
        comment:
          en: Changes in unit types
          nb: Endring i enhetstyper.
          nn: Endring i enhetstyper.
        related_variable_definition_uris:
        - https://example.com/
        contact:
          title:
            en: Division for population statistics
            nb: Seksjon for befolkningsstatistikk
            nn: Seksjon for befolkningsstatistikk
          email: s320@ssb.no
    RenderedContact:
      required:
      - email
      type: object
      properties:
        title:
          type: string
          nullable: true
        email:
          type: string
      example:
        title: Seksjon for befolkningsstatistikk
        email: s320@ssb.no
    RenderedVariableDefinition:
      required:
      - contains_special_categories_of_personal_data
      - id
      - last_updated_at
      - patch_id
      - short_name
      - subject_fields
      - unit_types
      - valid_from
      type: object
      properties:
        id:
          type: string
        patch_id:
          type: integer
          format: int32
        name:
          type: string
          nullable: true
        short_name:
          type: string
        definition:
          type: string
          nullable: true
        classification_uri:
          type: string
          nullable: true
        unit_types:
          type: array
          items:
            nullable: true
            allOf:
            - $ref: "#/components/schemas/KlassReference"
        subject_fields:
          type: array
          items:
            nullable: true
            allOf:
            - $ref: "#/components/schemas/KlassReference"
        contains_special_categories_of_personal_data:
          type: boolean
        measurement_type:
          nullable: true
          allOf:
          - $ref: "#/components/schemas/KlassReference"
        valid_from:
          type: string
          format: date
        valid_until:
          type: string
          format: date
          nullable: true
        external_reference_uri:
          type: string
          format: url
          nullable: true
        comment:
          type: string
          nullable: true
        related_variable_definition_uris:
          type: array
          nullable: true
          items:
            type: string
            format: url
        contact:
          nullable: true
          allOf:
          - $ref: "#/components/schemas/RenderedContact"
        last_updated_at:
          type: string
          format: date-time
      description: "Render a Variable Definition in a specific language, for display\
        \ to end users."
      example:
        id: wypvb3wd
        name: Landbakgrunn
        short_name: string
        definition: "For personer født i utlandet, er dette (med noen få unntak) eget\
          \ fødeland. For personer født i Norge er det foreldrenes fødeland. I de\
          \ tilfeller der foreldrene har ulikt fødeland, er det morens fødeland som\
          \ blir valgt. Hvis ikke personen selv eller noen av foreldrene er utenlandsfø\
          dt, hentes landbakgrunn fra de første utenlandsfødte en treffer på i rekkefø\
          lgen mormor, morfar, farmor eller farfar."
        classification_uri: https://www.ssb.no/en/klass/klassifikasjoner/91
        unit_types:
        - reference_uri: https://www.ssb.no/klass/klassifikasjoner/702
          code: "20"
          title: Person
        subject_fields:
        - reference_uri: https://www.ssb.no/klass/klassifikasjoner/618
          code: be07
          title: Innvandrere
        contains_special_categories_of_personal_data: true
        measurement_type: null
        valid_from: 2003-01-01
        valid_until: null
        external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
        comment: Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes
          fødeland.
        related_variable_definition_uris:
        - https://example.com/
        contact:
          title: Seksjon for befolkningsstatistikk
          email: s320@ssb.no
        last_updated_at: 2024-06-12T10:39:41.038Z
    SupportedLanguages:
      type: string
      description: Languages the application supports.
      enum:
      - nb
      - nn
      - en
      x-enum-descriptions:
      - Norwegian Bokmål
      - Norwegian Nynorsk
      - English
    UpdateDraft:
      type: object
      properties:
        name:
          description: Name of the variable. Must be unique for a given Unit Type
            and Owner combination.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        short_name:
          pattern: "^[a-z0-9_]{2,}$"
          type: string
          description: Recommended short name. Must be unique within an organization.
          nullable: true
        definition:
          description: Definition of the variable.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        classification_reference:
          type: string
          description: ID of a classification or code list from Klass. The given classification
            defines all possible values for the defined variable.
          nullable: true
        unit_types:
          type: array
          description: "A list of one or more unit types, e.g. person, vehicle, household.\
            \ Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/702."
          nullable: true
          items:
            type: string
        subject_fields:
          type: array
          description: A list of subject fields that the variable is used in. Must
            be defined as codes from https://www.ssb.no/klass/klassifikasjoner/618.
          nullable: true
          items:
            type: string
        contains_special_categories_of_personal_data:
          type: boolean
          description: "True if variable instances contain particularly sensitive\
            \ information. Applies even if the information or identifiers are pseudonymized.\
            \ Information within the following categories are regarded as particularly\
            \ sensitive: Ethnicity, Political alignment, Religion, Philosophical beliefs,\
            \ Union membership, Genetics, Biometrics, Health, Sexual relations, Sexual\
            \ orientation"
          nullable: true
        variable_status:
          description: Status of the life cycle of the variable
          nullable: true
          allOf:
          - $ref: "#/components/schemas/VariableStatus"
        measurement_type:
          type: string
          description: "Type of measurement for the variable, e.g. length, volume,\
            \ currency. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/303"
          nullable: true
        valid_from:
          type: string
          description: The variable definition is valid from this date inclusive
          format: date
          nullable: true
        external_reference_uri:
          type: string
          description: A link (URI) to an external definition/documentation
          format: url
          nullable: true
        comment:
          description: Optional comment to explain the definition or communicate potential
            changes.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        related_variable_definition_uris:
          type: array
          description: "Link(s) to related definitions of variables - a list of one\
            \ or more definitions. For example for a variable after-tax income it\
            \ could be relevant to link to definitions of income from work, property\
            \ income etc."
          nullable: true
          items:
            type: string
            format: url
        owner:
          description: "Owner of the definition, i.e. responsible Dapla team (statistics\
            \ team) and information about access management groups."
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Owner"
        contact:
          description: Contact details
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Contact"
      description: Update variable definition Data structure with all fields optional
        for updating a Draft Variable Definition.
      example:
        name:
          en: Country Background
          nb: Landbakgrunn
          nn: Landbakgrunn
        short_name: landbak
        definition:
          en: "Country background is the person's own, the mother's or possibly the\
            \ father's country of birth. Persons without an immigrant background always\
            \ have Norway as country background. In cases where the parents have different\
            \ countries of birth the mother's country of birth is chosen. If neither\
            \ the person nor the parents are born abroad, country background is chosen\
            \ from the first person born abroad in the order mother's mother, mother's\
            \ father, father's mother, father's father."
          nb: "For personer født i utlandet, er dette (med noen få unntak) eget fø\
            deland. For personer født i Norge er det foreldrenes fødeland. I de tilfeller\
            \ der foreldrene har ulikt fødeland, er det morens fødeland som blir valgt.\
            \ Hvis ikke personen selv eller noen av foreldrene er utenlandsfødt, hentes\
            \ landbakgrunn fra de første utenlandsfødte en treffer på i rekkefølgen\
            \ mormor, morfar, farmor eller farfar."
          nn: "For personar fødd i utlandet, er dette (med nokre få unntak) eige fø\
            deland. For personar fødd i Noreg er det fødelandet til foreldra. I dei\
            \ tilfella der foreldra har ulikt fødeland, er det fødelandet til mora\
            \ som blir valt. Viss ikkje personen sjølv eller nokon av foreldra er\
            \ utenlandsfødt, blir henta landsbakgrunn frå dei første utenlandsfødte\
            \ ein treffar på i rekkjefølgja mormor, morfar, farmor eller farfar."
        classification_reference: "91"
        unit_types:
        - "01"
        - "02"
        subject_fields:
        - he04
        contains_special_categories_of_personal_data: true
        measurement_type: null
        valid_from: 2003-01-01
        external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
        comment:
          nb: Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes
            fødeland.
          nn: Fra og med 1.1.2003 ble definisjon endret til også å trekke inn besteforeldrenes
            fødeland.
          en: "As of 1 January 2003, the definition was changed to also include the\
            \ grandparents' country of birth."
        related_variable_definition_uris:
        - https://example.com/
        contact:
          title:
            en: Division for population statistics
            nb: Seksjon for befolkningsstatistikk
            nn: Seksjon for befolkningsstatistikk
          email: s320@ssb.no
    ValidityPeriod:
      required:
      - definition
      - valid_from
      type: object
      properties:
        name:
          description: Name of the variable. Must be unique for a given Unit Type
            and Owner combination.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        definition:
          description: Definition of the variable.
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        classification_reference:
          type: string
          description: ID of a classification or code list from Klass. The given classification
            defines all possible values for the defined variable.
          nullable: true
        unit_types:
          type: array
          description: "A list of one or more unit types, e.g. person, vehicle, household.\
            \ Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/702."
          nullable: true
          items:
            type: string
        subject_fields:
          type: array
          description: A list of subject fields that the variable is used in. Must
            be defined as codes from https://www.ssb.no/klass/klassifikasjoner/618.
          nullable: true
          items:
            type: string
        contains_special_categories_of_personal_data:
          type: boolean
          description: "True if variable instances contain particularly sensitive\
            \ information. Applies even if the information or identifiers are pseudonymized.\
            \ Information within the following categories are regarded as particularly\
            \ sensitive: Ethnicity, Political alignment, Religion, Philosophical beliefs,\
            \ Union membership, Genetics, Biometrics, Health, Sexual relations, Sexual\
            \ orientation"
          nullable: true
        variable_status:
          description: Status of the life cycle of the variable
          nullable: true
          readOnly: true
          allOf:
          - $ref: "#/components/schemas/VariableStatus"
        measurement_type:
          type: string
          description: "Type of measurement for the variable, e.g. length, volume,\
            \ currency. Must be defined as codes from https://www.ssb.no/klass/klassifikasjoner/303"
          nullable: true
        valid_from:
          type: string
          description: The variable definition is valid from this date inclusive
          format: date
        external_reference_uri:
          type: string
          description: A link (URI) to an external definition/documentation
          format: url
          nullable: true
        comment:
          description: Optional comment to explain the definition or communicate potential
            changes.
          nullable: true
          allOf:
          - $ref: "#/components/schemas/LanguageStringType"
        related_variable_definition_uris:
          type: array
          description: "Link(s) to related definitions of variables - a list of one\
            \ or more definitions. For example for a variable after-tax income it\
            \ could be relevant to link to definitions of income from work, property\
            \ income etc."
          nullable: true
          items:
            type: string
            format: url
        contact:
          description: Contact details
          nullable: true
          allOf:
          - $ref: "#/components/schemas/Contact"
      description: Create a new Validity Period on a Published Variable Definition.
      example:
        name:
          en: Country Background
          nb: Landbakgrunnen
          nn: Landbakgrunnen
        definition:
          en: Country background is the mothers birth country.
          nb: For personer født i utlandet er dette mors fødeland.
          nn: For personar fødd i utlandet mors fødeland.
        classification_reference: "91"
        unit_types:
        - "01"
        - "05"
        subject_fields:
        - he04
        contains_special_categories_of_personal_data: false
        measurement_type: null
        valid_from: 2026-01-02
        external_reference_uri: https://www.ssb.no/a/metadata/conceptvariable/vardok/1919/nb
        comment:
          en: Change in legislation triggers change of definition text.
          nb: Endring i lovgiving utløser endring av definisjonstekst.
          nn: Endring i lovgiving utløser endring av definisjonstekst.
        related_variable_definition_uris:
        - https://example.com/
        contact:
          title:
            en: Division for population statistics
            nb: Seksjon for befolkningsstatistikk
            nn: Seksjon for befolkningsstatistikk
          email: s320@ssb.no
    VariableStatus:
      type: string
      description: Life cycle status of a variable definition.
      enum:
      - DRAFT
      - PUBLISHED_INTERNAL
      - PUBLISHED_EXTERNAL
  securitySchemes:
    keycloak_token:
      type: http
      description: A token granted by Statistics Norway's Keycloak instance. May be
        obtained from a <a href=https://lab.dapla.ssb.no>Dapla Lab</a> service.
      scheme: bearer
      bearerFormat: JWT
